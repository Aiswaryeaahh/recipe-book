<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Delicious Recipe Book</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        animation: fadeInDown 1s ease-out;
      }

      h1 {
        color: white;
        font-size: 3rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        margin-bottom: 10px;
      }

      .subtitle {
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.2rem;
        font-weight: 300;
      }

      .controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        flex-wrap: wrap;
        gap: 15px;
      }

      .search-container {
        position: relative;
        flex: 1;
        min-width: 250px;
      }

      #searchInput {
        width: 100%;
        padding: 12px 45px 12px 20px;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      #searchInput:focus {
        outline: none;
        transform: scale(1.02);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      }

      .search-icon {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #666;
      }

      .filter-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .filter-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 20px;
        background: rgba(255, 255, 255, 0.2);
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .filter-btn:hover,
      .filter-btn.active {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      }

      .add-recipe-btn {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(238, 90, 36, 0.3);
      }

      .add-recipe-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(238, 90, 36, 0.4);
      }

      .recipe-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }

      .recipe-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
        animation: fadeInUp 0.6s ease-out;
      }

      .recipe-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      }

      .recipe-image {
        width: 100%;
        height: 200px;
        background: linear-gradient(45deg, #ff9a9e, #fecfef);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
        color: white;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .recipe-content {
        padding: 25px;
      }

      .recipe-title {
        font-size: 1.5rem;
        margin-bottom: 10px;
        color: #333;
        font-weight: 600;
      }

      .recipe-meta {
        display: flex;
        justify-content: space-between;
        margin-bottom: 15px;
        color: #666;
        font-size: 0.9rem;
      }

      .recipe-category {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 500;
      }

      .recipe-description {
        color: #666;
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .recipe-actions {
        display: flex;
        gap: 10px;
      }

      .btn {
        padding: 8px 16px;
        border: none;
        border-radius: 15px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .btn-primary {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
      }

      .btn-secondary {
        background: rgba(102, 126, 234, 0.1);
        color: #667eea;
        border: 1px solid #667eea;
      }

      .btn-danger {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
        z-index: 1000;
        animation: fadeIn 0.3s ease-out;
      }

      .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 30px;
        border-radius: 20px;
        width: 90%;
        max-width: 600px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        animation: slideInUp 0.3s ease-out;
      }

      .close {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 28px;
        font-weight: bold;
        color: #aaa;
        cursor: pointer;
        transition: color 0.3s ease;
      }

      .close:hover {
        color: #000;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100%;
        padding: 12px;
        border: 2px solid #e1e1e1;
        border-radius: 10px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        outline: none;
        border-color: #667eea;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .ingredients-list {
        max-height: 200px;
        overflow-y: auto;
        border: 2px solid #e1e1e1;
        border-radius: 10px;
        padding: 10px;
      }

      .ingredient-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px;
        background: #f8f9fa;
        margin-bottom: 5px;
        border-radius: 8px;
      }

      .ingredient-item:last-child {
        margin-bottom: 0;
      }

      .remove-ingredient {
        background: #ff6b6b;
        color: white;
        border: none;
        border-radius: 50%;
        width: 25px;
        height: 25px;
        cursor: pointer;
        font-size: 12px;
      }

      .add-ingredient-container {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }

      .add-ingredient-container input {
        flex: 1;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translate(-50%, -40%);
        }
        to {
          opacity: 1;
          transform: translate(-50%, -50%);
        }
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 2rem;
        }

        .controls {
          flex-direction: column;
          align-items: stretch;
        }

        .filter-buttons {
          justify-content: center;
        }

        .recipe-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üç≥ Delicious Recipe Book</h1>
        <p class="subtitle">Discover, create, and share amazing recipes</p>
      </header>

      <div class="controls">
        <div class="search-container">
          <input type="text" id="searchInput" placeholder="Search recipes..." />
          <span class="search-icon">üîç</span>
        </div>
        <div class="filter-buttons">
          <button class="filter-btn active" data-category="all">All</button>
          <button class="filter-btn" data-category="breakfast">
            Breakfast
          </button>
          <button class="filter-btn" data-category="lunch">Lunch</button>
          <button class="filter-btn" data-category="dinner">Dinner</button>
          <button class="filter-btn" data-category="dessert">Dessert</button>
        </div>
        <button class="add-recipe-btn" onclick="openAddRecipeModal()">
          + Add Recipe
        </button>
      </div>

      <div class="recipe-grid" id="recipeGrid">
        <!-- Recipes will be dynamically added here -->
      </div>
    </div>

    <!-- Add Recipe Modal -->
    <div id="addRecipeModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeAddRecipeModal()">&times;</span>
        <h2>Add New Recipe</h2>
        <form id="addRecipeForm">
          <div class="form-group">
            <label for="recipeName">Recipe Name</label>
            <input type="text" id="recipeName" required />
          </div>
          <div class="form-group">
            <label for="recipeCategory">Category</label>
            <select id="recipeCategory" required>
              <option value="">Select Category</option>
              <option value="breakfast">Breakfast</option>
              <option value="lunch">Lunch</option>
              <option value="dinner">Dinner</option>
              <option value="dessert">Dessert</option>
            </select>
          </div>
          <div class="form-group">
            <label for="prepTime">Prep Time (minutes)</label>
            <input type="number" id="prepTime" required />
          </div>
          <div class="form-group">
            <label for="cookTime">Cook Time (minutes)</label>
            <input type="number" id="cookTime" required />
          </div>
          <div class="form-group">
            <label for="servings">Servings</label>
            <input type="number" id="servings" required />
          </div>
          <div class="form-group">
            <label for="recipeDescription">Description</label>
            <textarea id="recipeDescription" required></textarea>
          </div>
          <div class="form-group">
            <label>Ingredients</label>
            <div class="ingredients-list" id="ingredientsList">
              <!-- Ingredients will be added here -->
            </div>
            <div class="add-ingredient-container">
              <input
                type="text"
                id="newIngredient"
                placeholder="Add ingredient..."
              />
              <button
                type="button"
                class="btn btn-secondary"
                onclick="addIngredient()"
              >
                Add
              </button>
            </div>
          </div>
          <div class="form-group">
            <label for="recipeInstructions">Instructions</label>
            <textarea id="recipeInstructions" required></textarea>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary">Add Recipe</button>
          </div>
        </form>
      </div>
    </div>

    <!-- View Recipe Modal -->
    <div id="viewRecipeModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeViewRecipeModal()">&times;</span>
        <div id="recipeDetails">
          <!-- Recipe details will be displayed here -->
        </div>
      </div>
    </div>

    <script>
      // Recipe data storage
      let recipes = [
        {
          id: 1,
          name: "Classic Pancakes",
          category: "breakfast",
          prepTime: 10,
          cookTime: 15,
          servings: 4,
          description:
            "Fluffy and delicious pancakes perfect for weekend mornings.",
          ingredients: [
            "2 cups all-purpose flour",
            "2 tbsp sugar",
            "2 tsp baking powder",
            "1 tsp salt",
            "2 eggs",
            "1¬æ cups milk",
            "¬º cup melted butter",
          ],
          instructions:
            "1. Mix dry ingredients in a large bowl.\n2. In another bowl, whisk eggs, milk, and melted butter.\n3. Combine wet and dry ingredients until just mixed.\n4. Cook on griddle over medium heat until bubbles form.\n5. Flip and cook until golden brown.",
          emoji: "ü•û",
        },
        {
          id: 2,
          name: "Caesar Salad",
          category: "lunch",
          prepTime: 15,
          cookTime: 0,
          servings: 2,
          description: "Fresh and crispy Caesar salad with homemade dressing.",
          ingredients: [
            "1 head romaine lettuce",
            "¬Ω cup parmesan cheese",
            "¬º cup croutons",
            "2 tbsp olive oil",
            "1 tbsp lemon juice",
            "1 garlic clove",
            "1 tsp anchovy paste",
          ],
          instructions:
            "1. Wash and chop romaine lettuce.\n2. Make dressing by mixing olive oil, lemon juice, minced garlic, and anchovy paste.\n3. Toss lettuce with dressing.\n4. Top with parmesan cheese and croutons.",
          emoji: "ü•ó",
        },
        {
          id: 3,
          name: "Spaghetti Carbonara",
          category: "dinner",
          prepTime: 10,
          cookTime: 20,
          servings: 4,
          description:
            "Creamy Italian pasta dish with eggs, cheese, and pancetta.",
          ingredients: [
            "1 lb spaghetti",
            "6 oz pancetta",
            "4 large eggs",
            "1 cup parmesan cheese",
            "Black pepper",
            "Salt",
          ],
          instructions:
            "1. Cook spaghetti according to package directions.\n2. Cook pancetta until crispy.\n3. Whisk eggs with parmesan cheese.\n4. Toss hot pasta with pancetta and egg mixture.\n5. Season with salt and pepper.",
          emoji: "üçù",
        },
        {
          id: 4,
          name: "Chocolate Chip Cookies",
          category: "dessert",
          prepTime: 15,
          cookTime: 12,
          servings: 24,
          description:
            "Classic chocolate chip cookies that are crispy on the outside and chewy inside.",
          ingredients: [
            "2¬º cups flour",
            "1 tsp baking soda",
            "1 tsp salt",
            "1 cup butter",
            "¬æ cup brown sugar",
            "¬æ cup white sugar",
            "2 eggs",
            "2 tsp vanilla",
            "2 cups chocolate chips",
          ],
          instructions:
            "1. Preheat oven to 375¬∞F.\n2. Mix flour, baking soda, and salt.\n3. Cream butter and sugars, add eggs and vanilla.\n4. Combine wet and dry ingredients, fold in chocolate chips.\n5. Drop onto baking sheets and bake 9-11 minutes.",
          emoji: "üç™",
        },
      ];

      let currentIngredients = [];
      let nextId = 5;

      // Initialize the page
      function init() {
        displayRecipes(recipes);
        setupEventListeners();
      }

      // Setup event listeners
      function setupEventListeners() {
        // Search functionality
        document
          .getElementById("searchInput")
          .addEventListener("input", handleSearch);

        // Filter buttons
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.addEventListener("click", handleFilter);
        });

        // Add ingredient on Enter key
        document
          .getElementById("newIngredient")
          .addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              e.preventDefault();
              addIngredient();
            }
          });

        // Form submission
        document
          .getElementById("addRecipeForm")
          .addEventListener("submit", handleAddRecipe);
      }

      // Display recipes
      function displayRecipes(recipesToShow) {
        const grid = document.getElementById("recipeGrid");
        grid.innerHTML = "";

        recipesToShow.forEach((recipe) => {
          const card = createRecipeCard(recipe);
          grid.appendChild(card);
        });
      }

      // Create recipe card
      function createRecipeCard(recipe) {
        const card = document.createElement("div");
        card.className = "recipe-card";
        card.innerHTML = `
                <div class="recipe-image">${recipe.emoji}</div>
                <div class="recipe-content">
                    <h3 class="recipe-title">${recipe.name}</h3>
                    <div class="recipe-meta">
                        <span>‚è±Ô∏è ${recipe.prepTime + recipe.cookTime} min</span>
                        <span>üë• ${recipe.servings} servings</span>
                        <span class="recipe-category">${recipe.category}</span>
                    </div>
                    <p class="recipe-description">${recipe.description}</p>
                    <div class="recipe-actions">
                        <button class="btn btn-primary" onclick="viewRecipe(${
                          recipe.id
                        })">View Recipe</button>
                        <button class="btn btn-secondary" onclick="editRecipe(${
                          recipe.id
                        })">Edit</button>
                        <button class="btn btn-danger" onclick="deleteRecipe(${
                          recipe.id
                        })">Delete</button>
                    </div>
                </div>
            `;
        return card;
      }

      // Search functionality
      function handleSearch(e) {
        const searchTerm = e.target.value.toLowerCase();
        const filtered = recipes.filter(
          (recipe) =>
            recipe.name.toLowerCase().includes(searchTerm) ||
            recipe.description.toLowerCase().includes(searchTerm) ||
            recipe.ingredients.some((ingredient) =>
              ingredient.toLowerCase().includes(searchTerm)
            )
        );
        displayRecipes(filtered);
      }

      // Filter functionality
      function handleFilter(e) {
        const category = e.target.dataset.category;

        // Update active button
        document
          .querySelectorAll(".filter-btn")
          .forEach((btn) => btn.classList.remove("active"));
        e.target.classList.add("active");

        // Filter recipes
        const filtered =
          category === "all"
            ? recipes
            : recipes.filter((recipe) => recipe.category === category);
        displayRecipes(filtered);
      }

      // Add ingredient functionality
      function addIngredient() {
        const input = document.getElementById("newIngredient");
        const ingredient = input.value.trim();

        if (ingredient) {
          currentIngredients.push(ingredient);
          input.value = "";
          updateIngredientsList();
        }
      }

      // Remove ingredient
      function removeIngredient(index) {
        currentIngredients.splice(index, 1);
        updateIngredientsList();
      }

      // Update ingredients list display
      function updateIngredientsList() {
        const list = document.getElementById("ingredientsList");
        list.innerHTML = "";

        currentIngredients.forEach((ingredient, index) => {
          const item = document.createElement("div");
          item.className = "ingredient-item";
          item.innerHTML = `
                    <span>${ingredient}</span>
                    <button type="button" class="remove-ingredient" onclick="removeIngredient(${index})">√ó</button>
                `;
          list.appendChild(item);
        });
      }

      // Handle add recipe form submission
      function handleAddRecipe(e) {
        e.preventDefault();

        const name = document.getElementById("recipeName").value;
        const category = document.getElementById("recipeCategory").value;
        const prepTime = parseInt(document.getElementById("prepTime").value);
        const cookTime = parseInt(document.getElementById("cookTime").value);
        const servings = parseInt(document.getElementById("servings").value);
        const description = document.getElementById("recipeDescription").value;
        const instructions =
          document.getElementById("recipeInstructions").value;

        // Create new recipe
        const newRecipe = {
          id: nextId++,
          name,
          category,
          prepTime,
          cookTime,
          servings,
          description,
          ingredients: [...currentIngredients],
          instructions,
          emoji: getCategoryEmoji(category),
        };

        recipes.push(newRecipe);
        displayRecipes(recipes);
        closeAddRecipeModal();

        // Reset form
        document.getElementById("addRecipeForm").reset();
        currentIngredients = [];
        updateIngredientsList();
      }

      // Get emoji for category
      function getCategoryEmoji(category) {
        const emojis = {
          breakfast: "ü•û",
          lunch: "ü•ó",
          dinner: "üçΩÔ∏è",
          dessert: "üç∞",
        };
        return emojis[category] || "üç¥";
      }

      // View recipe
      function viewRecipe(id) {
        const recipe = recipes.find((r) => r.id === id);
        if (!recipe) return;

        const modal = document.getElementById("viewRecipeModal");
        const details = document.getElementById("recipeDetails");

        details.innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 10px;">${
                      recipe.emoji
                    }</div>
                    <h2>${recipe.name}</h2>
                    <div style="color: #666; margin: 10px 0;">
                        <span>‚è±Ô∏è Prep: ${recipe.prepTime}min</span> ‚Ä¢ 
                        <span>üî• Cook: ${recipe.cookTime}min</span> ‚Ä¢ 
                        <span>üë• Serves: ${recipe.servings}</span>
                    </div>
                    <span class="recipe-category">${recipe.category}</span>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <h3 style="margin-bottom: 10px; color: #333;">Description</h3>
                    <p style="color: #666; line-height: 1.6;">${
                      recipe.description
                    }</p>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <h3 style="margin-bottom: 10px; color: #333;">Ingredients</h3>
                    <ul style="color: #666; line-height: 1.8; padding-left: 20px;">
                        ${recipe.ingredients
                          .map((ingredient) => `<li>${ingredient}</li>`)
                          .join("")}
                    </ul>
                </div>
                
                <div>
                    <h3 style="margin-bottom: 10px; color: #333;">Instructions</h3>
                    <div style="color: #666; line-height: 1.8; white-space: pre-line;">${
                      recipe.instructions
                    }</div>
                </div>
            `;

        modal.style.display = "block";
      }

      // Edit recipe (simplified - just shows current values)
      function editRecipe(id) {
        const recipe = recipes.find((r) => r.id === id);
        if (!recipe) return;

        // Populate form with current values
        document.getElementById("recipeName").value = recipe.name;
        document.getElementById("recipeCategory").value = recipe.category;
        document.getElementById("prepTime").value = recipe.prepTime;
        document.getElementById("cookTime").value = recipe.cookTime;
        document.getElementById("servings").value = recipe.servings;
        document.getElementById("recipeDescription").value = recipe.description;
        document.getElementById("recipeInstructions").value =
          recipe.instructions;

        currentIngredients = [...recipe.ingredients];
        updateIngredientsList();

        // Remove the recipe and open modal for "editing"
        recipes = recipes.filter((r) => r.id !== id);
        openAddRecipeModal();
      }

      // Delete recipe
      function deleteRecipe(id) {
        if (confirm("Are you sure you want to delete this recipe?")) {
          recipes = recipes.filter((recipe) => recipe.id !== id);
          displayRecipes(recipes);
        }
      }

      // Modal functions
      function openAddRecipeModal() {
        document.getElementById("addRecipeModal").style.display = "block";
      }

      function closeAddRecipeModal() {
        document.getElementById("addRecipeModal").style.display = "none";
      }

      function closeViewRecipeModal() {
        document.getElementById("viewRecipeModal").style.display = "none";
      }

      // Close modals when clicking outside
      window.onclick = function (event) {
        const addModal = document.getElementById("addRecipeModal");
        const viewModal = document.getElementById("viewRecipeModal");

        if (event.target === addModal) {
          closeAddRecipeModal();
        }
        if (event.target === viewModal) {
          closeViewRecipeModal();
        }
      };

      // Initialize the application
      init();
    </script>
  </body>
</html>
